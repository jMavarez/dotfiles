set visualbell
set noerrorbells 
set number
set relativenumber
set incsearch
set showmode

let mapleader = " "

# There's a weird delay with IdeaVim
#inoremap jf <esc>

# Navigation
nnoremap <leader>h :action Back<CR>
nnoremap <leader>l :action Forward<CR>
nnoremap <leader>rf :action RecentFiles<CR>
nnoremap <leader>gc :action GotoClass<CR>
nnoremap <leader>gf :action GotoFile<CR>
nnoremap ga :action GotoAction<CR>
nnoremap <leader>adb :action com.developerphil.adbidea.action.AdbIdeaQuickList<CR>
nnoremap <leader>rp :action RecentProjectListGroup<CR>
nnoremap <leader>gr :action ChooseRunConfiguration<CR>

nnoremap <c-z> :action ToggleDistractionFreeMode<CR>

nnoremap <c-h> <c-w>h
nnoremap <c-l> <c-w>l
nnoremap <c-j> <c-w>j
nnoremap <c-k> <c-w>k

nnoremap <C-d> <C-d>zz
nnoremap <C-u> <C-u>zz

nnoremap n nzzzv
nnoremap N Nzzzv

# LSP
nnoremap gd :action GotoDeclaration<CR>
nnoremap gr :action FindUsages<CR>
nnoremap gI :action GotoImplementation<CR>
nnoremap gS :action GotoSymbol<CR>
nnoremap ge :action GotoNextError<CR>
nnoremap gE :action GoToPreviousError<CR>
nnoremap <leader>ds :action FileStructurePopup<CR>

nnoremap <leader>gn :action SelectPreviousOccurrence<CR>
nnoremap <leader>gN :action UnselectPreviousOccurrence<CR>

nnoremap [[ :action MethodUp<CR>
nnoremap ]] :action MethodDown<CR>

# Git Navigation
nnoremap ,vp :action VcsShowPrevChangeMarker<CR>
nnoremap .vn :action VcsShowNextChangeMarker<CR>
nnoremap <leader>vx :action Vcs.RollbackChangedLines<CR>

# Code editing
nnoremap gc :action CommentByLineComment<CR>
vnoremap gc :action CommentByLineComment<CR>
vnoremap <leader>/ :action CommentByLineComment<CR>
vnoremap <leader>/ :action CommentByLineComment<CR>
nnoremap <leader>re :action RenameElement<CR>
nnoremap <leader>df :action ReformatCode<CR>
vnoremap <leader>df :action ReformatCode<CR>

nnoremap <c-\> :action SplitVertically<CR>
nnoremap <c--> :action SplitHorizontally<CR>
nnoremap <c-=> :action Unsplit<CR>
nnoremap <c-m> :action MoveEditorToOppositeTabGroup<CR>

sethandler <c-j> a:vim
sethandler <c-k> a:vim

# IdeaVim
nnoremap \e :e ~/.dotfiles/ideavim/.ideavimrc<CR>
nnoremap \r :action IdeaVim.ReloadVimRc.reload<CR>
